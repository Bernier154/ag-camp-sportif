{"version":3,"sources":["gutenberg_options/add_paralax_banner.js"],"names":["addFilter","wp","hooks","__","i18n","registerBlockType","blocks","createHigherOrderComponent","compose","Fragment","element","InspectorControls","blockEditor","_wp$components","components","PanelBody","ToggleControl","addCoverParallax","props","name","attributes","Object","assign","specialAddParalax","type","default","withSpecialColMargin","BlockEdit","React","createElement","label","checked","onChange","val","setAttributes","specialAddColMargin","saveElementProps","blockType","className"],"mappings":"AACA,IAEQA,UAAcC,GAAGC,MAAjBF,UACAG,GAAOF,GAAGG,KAAVD,GACAE,kBAAsBJ,GAAGK,OAAzBD,kBACAE,2BAA+BN,GAAGO,QAAlCD,2BACAE,SAAaR,GAAGS,QAAhBD,SACAE,kBAAsBV,GAAGW,YAAzBD,kBADJE,eAEgCZ,GAAGa,WAA/BC,UADQF,eACRE,UAAUC,cAAEH,eAAFG,cAMZC,iBAAmB,SAAEC,EAAOC,GAWjC,MATW,cAARA,IAEFD,EAAME,WAAaC,OAAOC,OAAQJ,EAAME,WAAY,CACnDG,kBAAmB,CAClBC,KAAM,UACNC,SAAS,MAILP,GACNlB,UAAW,2BAA4B,sCAAuCiB,kBAKhF,IAAMS,qBAAuBnB,4BAA4B,SAAEoB,GAC1D,OAAO,SAAET,GACR,MAAmB,cAAdA,EAAMC,KAAmCS,MAAAC,cAACF,EAAeT,GAE7DU,MAAAC,cAACpB,SAAD,KACCmB,MAAAC,cAACF,EAAeT,GACJU,MAAAC,cAAClB,kBAAD,KACIiB,MAAAC,cAACd,UAAD,KACIa,MAAAC,cAACb,cAAD,CACIc,MAAM,sBACNC,QAAUb,EAAME,WAAWG,kBAC3BS,SAAW,SAACC,GACRf,EAAMgB,cAAc,CAACX,kBAAkBU,aAQpE,wBACHjC,UAAW,mBAAoB,+CAAgD0B,sBAE/E,IAAMS,oBAAqB,SAAEC,EAAkBC,EAAWjB,GAMzD,MAL0B,cAAlBiB,EAAUlB,MACRC,EAAWG,mBACVF,OAAOC,OAAQc,EAAkB,CAAEE,UAAYF,EAAiBE,UAAjBF,yBAGnDA,GACNpC,UAAW,mCAAoC,2DAA4DmC","file":"../../gutenberg_options/add_paralax_banner.min.js","sourcesContent":["\r\n\r\n//importe le hook addfilter et la localisation\r\nconst { addFilter } = wp.hooks;\r\nconst { __ } = wp.i18n;\r\nconst { registerBlockType } = wp.blocks;\r\nconst { createHigherOrderComponent } = wp.compose;\r\nconst { Fragment } = wp.element;\r\nconst { InspectorControls } = wp.blockEditor;\r\nconst { PanelBody,ToggleControl } = wp.components;\r\n\r\n\r\n/**\r\n * Ajoute un props au block\r\n */\r\nconst addCoverParallax = ( props, name ) => {\r\n    \r\n\tif(name == 'core/cover'){\r\n\t\t// on ajoute l'attribut et on ajoute une valeur par dÃ©faut\r\n\t\tprops.attributes = Object.assign( props.attributes, {\r\n\t\t\tspecialAddParalax: {\r\n\t\t\t\ttype: 'boolean',\r\n\t\t\t\tdefault: false,\r\n\t\t\t},\r\n\t\t} );\r\n\t}\r\n\treturn props;\r\n};addFilter( 'blocks.registerBlockType', 'addColMargin/attribute/addColMargin', addCoverParallax);\r\n/**\r\n * Ajoute un controle dans la sidebar pour le plugin \r\n *\r\n */\r\nconst withSpecialColMargin = createHigherOrderComponent( ( BlockEdit ) => {\r\n\treturn ( props ) => {\r\n\t\tif ( props.name != 'core/cover' ) { return  ( <BlockEdit { ...props } /> ) ; }\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<BlockEdit { ...props }  />\r\n                <InspectorControls>\r\n                    <PanelBody>\r\n                        <ToggleControl\r\n                            label=\"Ajouter du parallax\"\r\n                            checked={ props.attributes.specialAddParalax }\r\n                            onChange={ (val) => {\r\n                                props.setAttributes({specialAddParalax:val})\r\n                            } }\r\n                        />\r\n                    </PanelBody>\r\n                </InspectorControls>\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t};\r\n}, 'withSpecialColMargin' );\r\naddFilter( 'editor.BlockEdit', 'withSpecialColMargin/with-special-col-margin', withSpecialColMargin );\r\n\r\nconst specialAddColMargin= ( saveElementProps, blockType, attributes ) => {\r\n    if ( blockType.name == 'core/cover' ) { \r\n        if(attributes.specialAddParalax){\r\n            Object.assign( saveElementProps, { className:  saveElementProps.className + ' '+'cols-special-margin' } );\r\n        }\r\n    }\r\n\treturn saveElementProps;\r\n};addFilter( 'blocks.getSaveContent.extraProps', 'specialAddColMargin/get-save-content/specialAddColMargin', specialAddColMargin );\r\n\r\n\r\n\r\n"]}