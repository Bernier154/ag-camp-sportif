{"version":3,"sources":["gutenberg_options/animation-col.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","addFilter","wp","hooks","__","i18n","createHigherOrderComponent","compose","Fragment","element","InspectorControls","blockEditor","_wp$components","components","PanelBody","SelectControl","addColAnimation","props","name","attributes","type","default","withAnimation","BlockEdit","React","createElement","label","imgClass","addAnimation","value","onChange","newVal","setAttributes","className","saveElementProps","saveAnimation","blockType"],"mappings":"AAAA,SAASA,WAA2Q,OAA9PA,SAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAGhT,IAGQS,UAAcC,GAAGC,MAAjBF,UAEAG,GAAOF,GAAGG,KAAVD,GAIAE,2BAA+BJ,GAAGK,QAAlCD,2BAEAE,SAAaN,GAAGO,QAAhBD,SAEAE,kBAAsBR,GAAGS,YAAzBD,kBARJE,eAUiCV,GAAGW,WAAhCC,UATQF,eASRE,UAAWC,cARCH,eAQDG,cAkBjBC,gBAAA,SAAAC,EAAAC,GARA,MAUMC,eAANF,IAIEG,EAAAA,WAFahC,OAAAC,OAAA4B,EAAAE,WAAA,CAIbE,aAAS,CAJID,KAAA,SAFfC,QAAA,OAVOJ,GA6BThB,UAAA,2BAAA,0CAAAe,iBAjBA,IAAIM,cAAgBhB,4BAA2B,SAAUiB,GA8BvD,OAAA,SAAAN,GAI0B,MAAiB,eAAjBA,EAAAC,KAExBM,MAAAC,cAACF,EAAAN,GAcGO,MAAAC,cAAAjB,SAAA,KAAAgB,MAAAC,cAAAF,EAAApC,SAAA,GAAA8B,EAAA,CAACS,UAAMT,EAAAE,WAAPQ,YAAgCH,MAAAC,cAAAf,kBAAA,KAAAc,MAAAC,cAAAX,UAAA,KAAAU,MAAAC,cAAA,KAAA,KAAA,aAAAD,MAAAC,cAAAV,cAAA,CAAhCW,MAEA,mBAACA,MAAKT,EAACE,WAAPS,aAAiBC,QAAM,CAAA,CAJdH,MAMT,mBAACA,MAAM,IAAoBG,CANlBH,MAQT,UAACA,MAAM,8BAAoBG,CARlBH,MAUT,oBAACA,MAAM,mCAAiBG,CAhB1BH,MAAA,oBAoBCG,MAAQ,kCAEPZ,CAECW,MAAAA,iBAFoBC,MAArB,iCA1BFC,SARJ,SAAAC,GAJDd,EAAAe,cAAA,CA0DEJ,aA5DHG,aAsEQ3C,iBAAmC6C,UAAAA,mBAAYC,+BAAwCN,eAE1F,IAAAO,cAAA,SAAAD,EAAAE,EAAAjB,GApDH,MANsB,eAAlBiB,EAAUlB,MA4Df9B,OAAO8C,OAAAA,EAAP,CARDD,UAAAC,EAAAD,UAAAd,EAAAS,eA9CSM,GAGTjC,UAAU,mCAAoC,+CAAgDkC","file":"../../gutenberg_options/animation-col.min.js","sourcesContent":["\r\r\n\r\r\n//importe le hook addfilter et la localisation\r\r\nconst { addFilter } = wp.hooks;\r\r\nconst { __ } = wp.i18n;\r\r\n\r\r\nconst { createHigherOrderComponent } = wp.compose;\r\r\nconst { Fragment } = wp.element;\r\r\nconst { InspectorControls } = wp.blockEditor;\r\r\nconst { PanelBody, SelectControl } = wp.components;\r\r\n\r\r\n\r\r\n/**\r\r\n * Ajoute un props au block\r\r\n */\r\r\nconst addColAnimation = ( props, name ) => {\r\r\n\t\r\r\n\tif(name == 'core/column'){\r\r\n\t\t// on ajoute l'attribut et on ajoute une valeur par dÃ©faut\r\r\n\t\tprops.attributes = Object.assign( props.attributes, {\r\r\n\t\t\taddAnimation: {\r\r\n\t\t\t\ttype: 'string',\r\r\n\t\t\t\tdefault: '',\r\r\n\t\t\t},\r\r\n\t\t} );\r\r\n\t}\r\r\n\treturn props;\r\r\n};addFilter( 'blocks.registerBlockType', 'addTitleborder/attribute/addTitleborder', addColAnimation);\r\r\n/**\r\r\n * Ajoute un controle dans la sidebar pour le plugin \r\r\n *\r\r\n */\r\r\nconst withAnimation = createHigherOrderComponent( ( BlockEdit ) => {\r\r\n\treturn ( props ) => {\r\r\n\t\tif ( props.name != 'core/column' ) { return  ( <BlockEdit { ...props } /> ) ; }\r\r\n\t\treturn (\r\r\n\t\t\t<Fragment>\r\r\n\t\t\t\t<BlockEdit { ...props } className={ props.attributes.imgClass }  />\r\r\n\t\t\t\t<InspectorControls>\r\r\n\t\t\t\t\t\t<PanelBody>\r\r\n                        <h3>Animation</h3>\r\r\n\t\t\t\t\t\t<SelectControl\r\r\n\t\t\t\t\t\t\tlabel={ \"Type d'animation\" }\r\r\n\t\t\t\t\t\t\tvalue={ props.attributes.addAnimation }\r\r\n\t\t\t\t\t\t\toptions={ [\r\r\n\t\t\t\t\t\t\t\t{label:'Aucune animation',value:''},\r\r\n\t\t\t\t\t\t\t\t{label:'Fade in',value:' animate__fadeIn toAnimate'},\r\r\n\t\t\t\t\t\t\t\t{label:'Fade in de droite',value:' animate__fadeInRight toAnimate'},\r\r\n\t\t\t\t\t\t\t\t{label:'Fade in de gauche',value:' animate__fadeInLeft toAnimate'},\r\r\n\t\t\t\t\t\t\t\t{label:'Fade in de top',value:' animate__fadeInUp toAnimate'},\r\r\n\t\t\t\t\t\t\t] }\r\r\n\t\t\t\t\t\t\tonChange={ ( newVal) => {\r\r\n\t\t\t\t\t\t\t\tprops.setAttributes( {\r\r\n\t\t\t\t\t\t\t\t\taddAnimation: newVal\r\r\n\t\t\t\t\t\t\t\t} );\r\r\n\t\t\t\t\t\t\t} }\r\r\n\t\t\t\t\t\t/>\r\r\n\t\t\t\t\t\t</PanelBody>\r\r\n\t\t\t\t</InspectorControls>\r\r\n\t\t\t</Fragment>\r\r\n\t\t);\r\r\n\t};\r\r\n}, 'withAnimation' );\r\r\naddFilter( 'editor.BlockEdit', 'withAnimation/with-animation', withAnimation);\r\r\n\r\r\nconst saveAnimation = ( saveElementProps, blockType, attributes ) => {\r\r\n    if ( blockType.name == 'core/column' ) { \r\r\n        Object.assign( saveElementProps, { className:  saveElementProps.className + attributes.addAnimation  } );\r\r\n    }\r\r\n\treturn saveElementProps;\r\r\n};addFilter( 'blocks.getSaveContent.extraProps', 'saveAnimation/get-save-content/saveAnimation', saveAnimation );\r\r\n\r\r\n\r\r\n\r\r\n"]}