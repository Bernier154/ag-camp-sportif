{"version":3,"sources":["utils.js"],"names":["validateEmail","email","test","isMobile","navigator","userAgent","substr","window","innerWidth","cdmConf","mobile_width","CustomEvent","bubbles","event","params","cancelable","detail","undefined","document","evt","createEvent","initCustomEvent","prototype","Event","$","parallaxAnimationFrame","parallaxObject","win","offset","section","isOnScreen","sectionScroll","parseInt","css","vitesse","maxScroll","image","height","visiblePart","scrollTop","top","centPourcent","outerHeight","requestAnimationFrame","newAnimationObserver","fn","viewport","right","bounds","scrollLeft","left","width","bottom","this","outerWidth","calculateViewBox","viewboxWidth","svg","endX","viewboxHeight","find","each","endY","x","bbox","y","attr","parallax","zIndex","addClass","log","length","removeClass","appendTo","append","checkAnimations","dispatchEvent","index","el","elem_class","pos","search","anim_name","substring","indexOf","setTimeout","animateCSS","replace","animation","MutationObserver","mutations","mutation","hasClass","addedNodes","observe","childList","subtree","jQuery","element","prefix","arguments","Promise","resolve","reject","animationName","concat","Element","HTMLDocument","querySelector","classList","add","addEventListener","remove","once"],"mappings":"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","file":"../utils.min.js","sourcesContent":["/**\r\r\n * Polyfill CustomEvent pour IE.\r\r\n */\r\r\n(function(){\r\r\n    if ( typeof window.CustomEvent === \"function\" ) return false;\r\r\n  \r\r\n    function CustomEvent ( event, params ) {\r\r\n      params = params || { bubbles: false, cancelable: false, detail: undefined };\r\r\n      var evt = document.createEvent( 'CustomEvent' );\r\r\n      evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\r\r\n      return evt;\r\r\n     }\r\r\n  \r\r\n    CustomEvent.prototype = window.Event.prototype;\r\r\n  \r\r\n    window.CustomEvent = CustomEvent;\r\r\n})();\r\r\n\r\r\n// validation\r\r\nfunction validateEmail(email) { \r\r\n\tvar re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; // TODO: ne pas accepter un IP \r\r\n\treturn re.test(email);\r\r\n}\r\r\n\r\r\nfunction isMobile(){\r\r\n\tif(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(navigator.userAgent.substr(0,4)) || window.innerWidth <= cdmConf.mobile_width){ return true;}else{return false;}\r\r\n}\r\r\n\r\r\n\r\r\n(function($){\r\r\n\t/* function requise pour le parallax\r\r\n\t* détecte si un élément est afficher sur l'écran\r\r\n\t* Return bool\r\r\n\t*/\r\r\n\t$.fn.isOnScreen = function(){\r\r\n\r\r\n\t\tvar win = $(window);\r\r\n\r\r\n\t\tvar viewport = {\r\r\n\t\t\ttop : win.scrollTop(),\r\r\n\t\t\tleft : win.scrollLeft()\r\r\n\t\t};\r\r\n\t\tviewport.right = viewport.left + win.width();\r\r\n\t\tviewport.bottom = viewport.top + win.height();\r\r\n\r\r\n\t\tvar bounds = this.offset();\r\r\n\t\tbounds.right = bounds.left + this.outerWidth();\r\r\n\t\tbounds.bottom = bounds.top + this.outerHeight();\r\r\n\r\r\n\t\treturn (!(viewport.right < bounds.left || viewport.left > bounds.right || viewport.bottom < bounds.top || viewport.top > bounds.bottom));\r\r\n\r\r\n\t};\r\r\n\r\r\n\t/**\r\r\n\t * Calcule les dimensions du viewBox d'un SVG avec les path visibles.\r\r\n\t * @param {Node} svg \r\r\n\t */\r\r\n\t$.fn.calculateViewBox = function(svg){\r\r\n\t\tvar viewboxWidth = 0;\r\r\n\t\tvar viewboxHeight = 0;\r\r\n\r\r\n\t\t$(svg).find('path:visible').each(function(){\r\r\n\t\t\tvar bbox = this.getBBox();\r\r\n\t\t\tvar endX = bbox.x + bbox.width;\r\r\n\t\t\tvar endY = bbox.y + bbox.height;\r\r\n\r\r\n\t\t\tif(endX > viewboxWidth){\r\r\n\t\t\t\tviewboxWidth = endX;\r\r\n\t\t\t}\r\r\n\r\r\n\t\t\tif(endY > viewboxHeight){\r\r\n\t\t\t\tviewboxHeight = endY;\r\r\n\t\t\t}\r\r\n\t\t});\r\r\n\r\r\n\t\t$(svg).attr('viewBox', '0 0 '+ viewboxWidth + ' ' + viewboxHeight);\r\r\n\t}\r\r\n\r\r\n\t/**\r\r\n\t * Rajoute du parallax a un élément\r\r\n\t * On doit déjà avoir un element dans le div qui est l'image\r\r\n\t *\r\r\n\t * @param section Le div qui va contenir le parallax\r\r\n\t * @param {int} [vitesse=0] La vitesse de défilement. Plus le chiffre est grand, mois la vitesse est grande, 0 = automatique\r\r\n\t * @param {int} [zIndex=-1] z-index de l'image\r\r\n\t * @return void\r\r\n\t */\r\r\n\t$.fn.parallax = function(section, vitesse, zIndex){\r\r\n\t\timage = this; // image to animation\r\r\n\t\tsection = $(section); // section to animate the image\r\r\n\r\r\n\t\tif(section.length == 0){\r\r\n\t\t\tconsole.log(\"la section pour le parallax n'existe pas\");\r\r\n\t\t}\r\r\n\r\r\n\t\tif(image.length == 0){\r\r\n\t\t\treturn false;\r\r\n\t\t}\r\r\n\t\t\r\r\n\t\tvitesse = (typeof vitesse === 'undefined') ? 3 : vitesse; // réduction de la vitesse du parallax\r\r\n\t\tzIndex = (typeof zIndex === 'undefined') ? -1 : zIndex; // zIndex de -1 par default\r\r\n\t\t\r\r\n\t\t\r\r\n\t\timage.addClass('img-parallax');\r\r\n\t\tsection.addClass('section-parallax');\r\r\n\t\t\r\r\n\t\t// ajoute une wrapper pour l'image a l'intérieur de la section pour la garder dans le flow\r\r\n\t\t$('<div class=\"parallax-img-wrapper\"></div>').appendTo(section).css('z-index', zIndex).append(image);\r\r\n\t\t\r\r\n\t\tvar parallaxObject = {\r\r\n\t\t\tvitesse: vitesse,\r\r\n\t\t\timage: image,\r\r\n\t\t\tsection: section\r\r\n\t\t};\r\r\n\t\t\r\r\n\t\tparallaxAnimationFrame(parallaxObject);\r\r\n\t}\r\r\n\r\r\n\tfunction parallaxAnimationFrame(parallaxObject){\r\r\n\t\twin = $(window);\r\r\n\r\r\n\t\tparallaxObject.image.removeClass('inactif'); // active le parallax\r\r\n\t\t\r\r\n\t\tif(parallaxObject.section.isOnScreen() === true){\r\r\n\t\t\tvar visiblePart = parseInt(parallaxObject.section.css('height')); // hauteur de la section = zone visible de l'image\r\r\n\t\t\tvar maxScroll = parallaxObject.image.height() - visiblePart; // hauteur d'extra de l'image\r\r\n\t\t\t\r\r\n\t\t\tvar sectionScroll = win.scrollTop() + win.height() - parallaxObject.section.offset().top; // sectionScroll est à 0 quand on commence a voir la section, est représente le nombre de pixels visibles\r\r\n\t\t\t\r\r\n\t\t\tcentPourcent = parallaxObject.section.outerHeight() + win.height();\r\r\n\t\t\t//console.log(sectionScroll/centPourcent +\"%\");\r\r\n\t\t\t\r\r\n\t\t\tif(parallaxObject.vitesse == 0){\r\r\n\t\t\t\t// sectionScroll/centPourcent = mon pourcentage, entre 0 et 1\r\r\n\t\t\t\tparallaxObject.image.css('top', ((parallaxObject.section.outerHeight() - parallaxObject.image.height()) * (sectionScroll/centPourcent)) );\r\r\n\t\t\t}else{\r\r\n\t\t\t\t// si l'image est visible au top, on la part de 0\r\r\n\t\t\t\tif(parallaxObject.section.offset().top < win.height()){\r\r\n\t\t\t\t\tsectionScroll = win.scrollTop()/parallaxObject.vitesse;\r\r\n\t\t\t\t}else{\r\r\n\t\t\t\t\tsectionScroll = sectionScroll/parallaxObject.vitesse;\r\r\n\t\t\t\t}\r\r\n\t\t\t\t\r\r\n\t\t\t\tif(sectionScroll >= maxScroll){ // si on a atteint le scroll maximum on reste au max\r\r\n\t\t\t\t\tparallaxObject.image.css('top', maxScroll*-1);\r\r\n\t\t\t\t}else{\r\r\n\t\t\t\t\tparallaxObject.image.css('top', sectionScroll*-1);\r\r\n\t\t\t\t}\r\r\n\t\t\t\t\r\r\n\t\t\t}\r\r\n\t\t\t\r\r\n\t\t}\r\r\n\r\r\n\t\twindow.requestAnimationFrame(function(){\r\r\n\t\t\tparallaxAnimationFrame(parallaxObject);\r\r\n\t\t});\r\r\n\t}\r\r\n\r\r\n\t/*************/\r\r\n\t/* ANIMATION */\r\r\n\t/*************/\r\r\n\r\r\n\t// add class .toAnimate to html element with a animate.css effect class\r\r\n\t// when on screen, the animation will execute\r\r\n\tconst mutationConfig = {\r\r\n\t\tchildList: true,\r\r\n\t\tsubtree: true\r\r\n\t};\r\r\n\tvar newAnimationObserver = new MutationObserver(domNewContent);\r\r\n\tnewAnimationObserver.observe(document, mutationConfig);\r\r\n\t\r\r\n\tfunction domNewContent(mutations){\r\r\n\t\tmutations.forEach(function(mutation){\r\r\n\t\t\tif(mutation.type == 'childList'){\r\r\n\t\t\t\tlet addedNodes = mutation.addedNodes;\r\r\n\t\t\t\t\r\r\n\t\t\t\tif(addedNodes.length){ // Nouveau contenu ajouté\r\r\n\t\t\t\t\tcheckAnimations();\r\r\n\t\t\t\t}\r\r\n\t\t\t}\r\r\n\t\t}); \r\r\n\t}\r\r\n\r\r\n\t$(window).on('scroll load', function(event) {\r\r\n\t\tcheckAnimations();\r\r\n\t});\r\r\n\r\r\n\tfunction checkAnimations(){\r\r\n\t\tif(!$('html').hasClass('preload')){\r\r\n\t\t\trequestAnimationFrame(function() {\r\r\n\t\t\t\t$('.toAnimate').each(function(index, el) {\r\r\n\t\t\t\t\tif($(this).isOnScreen() === true){\r\r\n\t\t\t\t\t\tvar elem_class = $(this).attr('class');\r\r\n\t\t\t\t\t\tvar pos = elem_class.search('animate__');\r\r\n\r\r\n\t\t\t\t\t\tif(pos !== -1){\r\r\n\t\t\t\t\t\t\tvar anim_name = elem_class.substring(pos, elem_class.indexOf(\" \", pos) !== -1 ? elem_class.indexOf(\" \", pos) : elem_class.length);\r\r\n\t\t\t\t\t\t\t\r\r\n\t\t\t\t\t\t\t$(this).removeClass(anim_name);\r\r\n\r\r\n\t\t\t\t\t\t\tsetTimeout(function(){\r\r\n\t\t\t\t\t\t\t\tanimateCSS(el, anim_name.replace('animate__', ''));\r\r\n\t\t\t\t\t\t\t\t$(el).removeClass('toAnimate');\r\r\n\t\t\t\t\t\t\t}, 500);\r\r\n\t\t\t\t\t\t}\r\r\n\t\t\t\t\t\t\r\r\n\t\t\t\t\t\tthis.dispatchEvent(new CustomEvent('animated'));\r\r\n\t\t\t\t\t}\r\r\n\t\t\t\t});\r\r\n\t\t\t});\r\r\n\t\t}\r\r\n\t}\r\r\n})(jQuery);\r\r\n\r\r\n/**\r\r\n * Fonction pour déclencher une animation.\r\r\n * \r\r\n * @param string|Element|HTMLDocument element Sélecteur sous forme de string ou un élément HTML.\r\r\n * @param string animation Le nom de l'animation.\r\r\n * @param string prefix Le prefix pour les animations (laissez valeur par défaut).\r\r\n */\r\r\nconst animateCSS = (element, animation, prefix = 'animate__') =>\r\r\n\t// We create a Promise and return it\r\r\n\tnew Promise((resolve, reject) => {\r\r\n\t\tconst animationName = `${prefix}${animation}`;\r\r\n\r\r\n\t\tif((element instanceof Element) === false && (element instanceof HTMLDocument) === false){\r\r\n\t\t\telement = document.querySelector(element);\r\r\n\t\t}\r\r\n\r\r\n\t\telement.classList.add(`${prefix}animated`, animationName);\r\r\n\r\r\n\t\t// When the animation ends, we clean the classes and resolve the Promise\r\r\n\t\tfunction handleAnimationEnd() {\r\r\n\t\t\telement.classList.remove(`${prefix}animated`, animationName);\r\r\n\t\t\tresolve('Animation ended');\r\r\n\t\t}\r\r\n\r\r\n\t\telement.addEventListener('animationend', handleAnimationEnd, {once: true});\r\r\n\t});"]}